const navItems = [
	{
		name: 'Store',
		url: 'store.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'Mac',
		url: 'mac.html',
		dropdown: [
			{
				category: 'Explore  Mac',
				items: [
					'Explore All Mac',
					'MacBook Air',
					'MacBook Pro',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
				compare: 'Compare Mac',
				why: 'What Mac does?',
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'iPad',
		url: 'ipad.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'iPhone',
		url: 'iphone.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'Watch',
		url: 'watch.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'Vision',
		url: 'vision.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'AirPods',
		url: 'airpods.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'TV & Home',
		url: 'tvhome.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'Entertainment',
		url: 'entertainment.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'Accessories',
		url: 'accessories.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
	{
		name: 'Support',
		url: 'support.html',
		dropdown: [
			{
				category: 'Shop',
				items: [
					'Shop the Latest',
					'Mac',
					'iPad',
					'iPhone',
					'Apple Watch',
					'Apple Vision Pro',
					'Accessories',
				],
			},
			{
				category: 'Quick Links',
				items: ['Find a Store', 'Order Status', 'Apple Trade In', 'Financing'],
			},
			{
				category: 'Shop Special Stores',
				items: [
					'Certified Refurbished',
					'Education',
					'Business',
					'Veterans and Military',
					'Government',
				],
			},
		],
	},
];

const createNavbarComponent = () => {
	let navLinksHTML = navItems
		.map(
			(item) => `
         <li id="hover-btn">
            <a class="py-3 text-black/80 hover:text-black" href="${item.url}">${item.name}</a>
         </li>
      `
		)
		.join('');

	let dropdownHTML = navItems
		.map((dropdownItem, index) => {
			if (index === 0) {
				return `<div 
                  id="dropdown-list"
                  class="w-full  bg-green-500 opacity-0 pointer-events-none top-9 pt-8 pb-16 -translate-y-4 duration-300"
               >
                  <div
                     class="max-w-[1100px] px-6 mx-auto flex flex-wrap gap-x-20 gap-y-10 text-gray-700"
                  >
                  ${dropdownItem.dropdown
										.map(
											(item) => `
                                          <ul class="text-xl font-semibold flex flex-col gap-2">
                                                <li class="font-light text-xs text-gray-500">${item.category}</li>
                                                
                                                <li><a href="#">Explore All Mac</a></li>
                                                <li><a href="#">MacBook Air</a></li>
                                                <li><a href="#">MacBook Pro</a></li>
                                                <li><a href="#">iMac</a></li>
                                                <li><a href="#">Mac mini</a></li>
                                                <li><a href="#">Mac Pro</a></li>
                                                <li><a href="#">Displays</a></li>
                                                <li><a href="#" class="text-xs">Compare Mac</a></li>
                                                <li><a href="#" class="text-xs">Mac Does That</a></li>
                                             </ul>
                                          `
										)
										.join(' ')}
                     
                  </div>
               </div>`;
			} else {
				return `<div 
                  id="dropdown-list"
                  class="w-full  bg-green-500 opacity-0 pointer-events-none top-9 pt-8 pb-16 -translate-y-4 duration-300"
               >
                  <div
                     class="max-w-[1100px] px-6 mx-auto flex flex-wrap gap-x-20 gap-y-10 text-gray-700"
                  >
                     <div class="flex items-start gap-8">
                        <ul class="text-xs font-semibold flex flex-col gap-3">
                           <li class="font-light text-gray-500">Shop Mac</li>
                           <li><a href="#">Shop Mac</a></li>
                           <li><a href="#">Mac Accessories</a></li>
                           <li><a href="#">Apple Trade In</a></li>
                           <li><a href="#">Financing</a></li>
                        </ul>

                        <ul class="text-xs font-semibold flex flex-col gap-3">
                           <li class="font-light text-gray-500">More from Mac</li>
                           <li><a href="#">Mac Support</a></li>
                           <li><a href="#">AppleCare+ for Mac</a></li>
                           <li><a href="#">macOS Sonoma</a></li>
                           <li><a href="#">Apps by Apple</a></li>
                           <li><a href="#">Continuity</a></li>
                           <li><a href="#">iCloud+</a></li>
                           <li><a href="#">Mac for Business</a></li>
                           <li><a href="#">Education</a></li>
                        </ul>
                     </div>
                  </div>
               </div>`;
			}
		})
		.join('');

	return `
   <!-- Overlay Background -->
   <div
      id="overlay-bg"
      class="z-[50] fixed top-0 left-0 right-0 opacity-0 pointer-events-none bottom-0 w-full h-screen bg-black/40 backdrop-blur-lg duration-500"
   ></div>
   <nav
      id="navbar-container"
      class="w-full fixed pt-1 top-0 left-0 bg-white/90 text-black backdrop-blur-sm z-[99] border-b shadow-sm border-white duration-500 transition-all ease-in-out overflow-hidden"
   >
      <!-- Menu list -->
      <div
         class="max-w-[1100px] mx-auto px-6 py-2 flex items-center justify-between"
      >
         <div class="flex items-center justify-between w-full text-xs gap-6">
            <a href="home.html">
               <img class="w-4" src="../assets/apple-logo.png" alt="" />
            </a>
            <ul class="md:flex justify-between items-center w-full hidden">
               ${navLinksHTML}
            </ul>
            <div class="flex gap-4">
               <button>
                  <span
                     class="material-symbols-outlined text-[20px] text-black/80 hover:text-black"
                  >
                     search
                  </span>
               </button>

               <button>
                  <span
                     class="material-symbols-outlined text-[20px] text-black/80 hover:text-black"
                  >
                     shopping_bag
                  </span>
               </button>
               <button class="md:hidden flex relative z-[50]" id="menu-btn">
                  <span class="material-symbols-outlined"> menu </span>
               </button>

               <!-- menu list dropdown -->
               <div
                  id="menu-list"
                  class="fixed top-0 left-0 w-full h-0 bg-white z-[49] origin-top duration-500 backdrop-blur-md"
               >
                  <div
                     class="px-12 flex flex-col mt-14 text-2xl gap-3 font-semibold opacity-0 pointer-events-none duration-500"
                     id="list-container"
                  >
                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >
                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >

                     <a href="" class="flex items-center justify-between group"
                        >Store
                        <span
                           class="material-symbols-outlined group-hover:block hidden"
                        >
                           chevron_right
                        </span></a
                     >
                  </div>
               </div>
            </div>
         </div>
      </div>

     ${dropdownHTML}
   </nav>
   `;
};

class NavbarComponent extends HTMLElement {
	connectedCallback() {
		this.innerHTML = createNavbarComponent();

		let hoverMenuBtns = this.querySelectorAll('#hover-btn');
		let navbarContainer = this.querySelector('#navbar-container');
		let dropdownList = this.querySelector('#dropdown-list');
		let overlayBg = this.querySelector('#overlay-bg');

		hoverMenuBtns.forEach((hoverBtn) => {
			hoverBtn.addEventListener('mouseenter', () => {
				navbarContainer.classList.remove('h-10');
				navbarContainer.classList.add('h-[500px]');

				overlayBg.classList.add('pointer-events-auto');
				overlayBg.classList.add('opacity-100');
				dropdownList.classList.remove('pointer-events-none');
				dropdownList.classList.remove('opacity-0');
				dropdownList.classList.remove('-translate-y-4');
				dropdownList.classList.add('pointer-events-auto');
				dropdownList.classList.add('opacity-100');
				dropdownList.classList.add('-translate-y-0');
			});
			navbarContainer.addEventListener('mouseleave', () => {
				navbarContainer.classList.add('h-10');
				navbarContainer.classList.remove('h-[500px]');

				overlayBg.classList.remove('pointer-events-auto');
				overlayBg.classList.remove('opacity-100');
				dropdownList.classList.add('pointer-events-none');
				dropdownList.classList.add('opacity-0');
				dropdownList.classList.add('-translate-y-4');
				dropdownList.classList.remove('pointer-events-auto');
				dropdownList.classList.remove('opacity-100');
				dropdownList.classList.remove('-translate-y-0');
			});
		});
	}
}

customElements.define('navbar-component', NavbarComponent);
